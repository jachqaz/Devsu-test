<headerComponent></headerComponent>
<div class="container">
  <div class="row textCenter">
    <h1>Formulario de Registro</h1>
    <div class="linea"></div>
  </div>
  <form (ngSubmit)="send()" [formGroup]="productForm">
    <div class="row">
      <div class="col form-group">
        <label class="form-label" for="id">ID</label>
        <input [(ngModel)]="product.id" [readOnly]="isModifyMode" class="form-control" formControlName="id" id="id"
               maxlength="10" minlength="3"
               required type="text">
        <div *ngIf="productForm.get('id')!.invalid && productForm.get('id')!.dirty || productForm.get('id')!.touched"
             class="alert alert-danger">
          <div *ngIf="productForm.get('id')!.hasError('required')">
            Este campo es requerido
          </div>
          <div *ngIf="productForm.get('id')!.hasError('minlength')">
            ID mínimo 3 caracteres.
          </div>
          <div *ngIf="productForm.get('id')!.hasError('maxlength')">
            ID máximo 10 caracteres.
          </div>
          <div *ngIf="productForm.get('id')!.hasError('idDuplicate')">
            ID no valido!
          </div>
        </div>
      </div>
      <div class="col form-group">
        <label class="form-label" for="name">Nombre</label>
        <input [(ngModel)]="product.name" class="form-control" formControlName="name" id="name" maxlength="100"
               minlength="5" required type="text">
        <div
          *ngIf="productForm.get('name')!.invalid && (productForm.get('name')!.dirty || productForm.get('name')!.touched)"
          class="alert alert-danger">
          <div *ngIf="productForm.get('name')!.hasError('required')">
            Este campo es requerido
          </div>
          <div *ngIf="productForm.get('name')!.hasError('minlength')">
            Nombre mínimo 5 caracteres.
          </div>
          <div *ngIf="productForm.get('name')!.hasError('maxlength')">
            Nombre máximo 100 caracteres.
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label class="form-label" for="description">Descripción</label>
        <input [(ngModel)]="product.description" class="form-control" formControlName="description" id="description"
               maxlength="200" minlength="10"
               required type="text">
        <div
          *ngIf="productForm.get('description')!.invalid && (productForm.get('description')!.dirty || productForm.get('description')!.touched)"
          class="alert alert-danger">
          <div *ngIf="productForm.get('description')!.hasError('required')">
            Este campo es requerido
          </div>
          <div *ngIf="productForm.get('description')!.hasError('minlength')">
            Descripción mínimo 10 caracteres.
          </div>
          <div *ngIf="productForm.get('description')!.hasError('maxlength')">
            Descripción máximo 200 caracteres.
          </div>
        </div>
      </div>
      <div class="col form-group">
        <label class="form-label" for="logo">Logo</label>
        <input [(ngModel)]="product.logo" class="form-control" formControlName="logo" id="logo" required type="text">
        <div
          *ngIf="productForm.get('logo')!.invalid && (productForm.get('logo')!.dirty || productForm.get('logo')!.touched)"
          class="alert alert-danger">
          <div *ngIf="productForm.get('logo')!.hasError('required')">
            Este campo es requerido
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label class="form-label" for="releaseDate">Fecha Liberación</label>
        <input [(ngModel)]="product.releaseDate" class="form-control" formControlName="releaseDate" id="releaseDate"
               required type="date">
        <div
          *ngIf="productForm.get('releaseDate')!.invalid && (productForm.get('releaseDate')!.dirty || productForm.get('releaseDate')!.touched)"
          class="alert alert-danger">
          <div *ngIf="productForm.get('releaseDate')!.hasError('required')">
            Este campo es requerido
          </div>
          <div *ngIf="productForm.get('releaseDate')!.hasError('releaseDateInvalid')">
            La fecha de lanzamiento debe ser igual o posterior a la fecha actual.
          </div>
        </div>
      </div>
      <div class="col form-group">
        <label class="form-label" for="restructuringDate">Fecha Revisión</label>
        <input [(ngModel)]="product.restructuringDate" class="form-control" formControlName="restructuringDate"
               id="restructuringDate" required type="date">
        <div
          *ngIf="productForm.get('restructuringDate')!.invalid && (productForm.get('restructuringDate')!.dirty || productForm.get('restructuringDate')!.touched)"
          class="alert alert-danger">
          <div *ngIf="productForm.get('restructuringDate')!.hasError('required')">
            Este campo es requerido
          </div>
          <div *ngIf="productForm.get('restructuringDate')!.hasError('restructuringDateInvalid')">
            Requerido, la Fecha debe ser exactamente un año posterior a la fecha de liberación
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col textRight">
        <button (click)="reset()" class="button buttonReset" type="button">Reiniciar</button>
      </div>
      <div class="col">
        <button [disabled]="!productForm.valid" class="button buttonSend" type="submit">Enviar</button>
      </div>
    </div>
  </form>
</div>
